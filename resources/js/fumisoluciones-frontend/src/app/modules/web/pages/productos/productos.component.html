<div class="productos-container">
  <h2 class="productos-titulo">Productos</h2>

  <div class="productos-filtros">
    <input type="text" [formControl]="buscarControl" placeholder="Buscar producto" />

    <select [(ngModel)]="categoriaSeleccionada" (change)="filtrarPorCategoria()">
      <option [ngValue]="null">Todas</option>
      <option *ngFor="let cat of categorias" [ngValue]="cat.id">
        {{ cat.nombre }}
      </option>
    </select>

    <select [(ngModel)]="orden" (change)="cargarProductos()">
      <option value="asc">Ascendente</option>
      <option value="desc">Descendente</option>
    </select>

    <button type="button" (click)="resetearFiltros()" class="btn-reset">
      Resetear filtros
    </button>
  </div>

  <ul class="productos-grid">
    <li class="producto-card" *ngFor="let producto of productos">
      <img *ngIf="producto.imagen" [src]="producto.imagen" alt="{{ producto.nombre }}" />
      <small class="producto-categoria">
        Categoría: {{ producto.categoria?.nombre }}
      </small>
      <h3 class="producto-nombre">
        <a [routerLink]="['/producto', producto.id]">{{ producto.nombre }}</a>
      </h3>
      <p class="producto-descripcion">{{ producto.descripcion }}</p>
    </li>
  </ul>

  <div class="productos-paginacion">
    <button (click)="cambiarPagina(paginaActual - 1)" [disabled]="paginaActual === 1">
      Anterior
    </button>
    <span>Página {{ paginaActual }} de {{ totalPaginas }}</span>
    <button (click)="cambiarPagina(paginaActual + 1)" [disabled]="paginaActual === totalPaginas">
      Siguiente
    </button>
  </div>
</div>